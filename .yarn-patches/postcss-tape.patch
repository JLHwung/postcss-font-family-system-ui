diff --git a/index.js b/index.js
index 3d877e352459014623ae2a20d576530198e4b913..9b28e2ab7dc42ccf63870981b55908c8be9b36d0 100644
--- a/index.js
+++ b/index.js
@@ -1,2 +1,2 @@
 #!/usr/bin/env node
-function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var fs=_interopDefault(require("fs")),path=_interopDefault(require("path")),readline=_interopDefault(require("readline"));function asyncGeneratorStep(e,r,t,n,i,o,s){try{var c=e[o](s),a=c.value}catch(e){return void t(e)}c.done?r(a):Promise.resolve(a).then(n,i)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise(function(n,i){var o=e.apply(r,t);function s(e){asyncGeneratorStep(o,n,i,s,c,"next",e)}function c(e){asyncGeneratorStep(o,n,i,s,c,"throw",e)}s(void 0)})}}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,r){var t=[],n=!0,i=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done)&&(t.push(s.value),!r||t.length!==r);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return t}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}const argRegExp=/^--([\w-]+)$/,primativeRegExp=/^(false|null|true|undefined|(\d+\.)?\d+|\{.*\}|\[.*\])$/,relaxedJsonPropRegExp=/(['"])?([a-z0-9A-Z_]+)\1:/g,relaxedJsonValueRegExp=/("[a-z0-9A-Z_]+":\s*)(?!true|false|null|\d+)'?([A-z0-9]+)'?([,}])/g;function getOptionsFromArguments(e){return process.argv.slice(2).reduce((e,r,t,n)=>{const i=n[t+1],o=r.match(argRegExp);if(o){const r=_slicedToArray(o,2)[1];!i||argRegExp.test(i)?e[r]=!0:e[r]=primativeRegExp.test(i)?JSON.parse(i.replace(relaxedJsonPropRegExp,'"$2": ').replace(relaxedJsonValueRegExp,'$1"$2"$3')):i}return e},Object.assign({},e))}function readFile(e){return new Promise((r,t)=>{fs.readFile(e,"utf8",(e,n)=>{e?t(e):r(n)})})}function readJSON(e,...r){return readFile(e).then(e=>JSON.parse(e)).then(e=>r.length?e[Object.keys(e).find(e=>r.includes(e))]:e).catch(()=>({}))}function readOrWriteFile(e,r){return readFile(e).catch(()=>writeFile(e,r||"").then(()=>""))}function safelyReadFile(e){return readFile(e).catch(()=>"")}function writeFile(e,r){return new Promise((t,n)=>{fs.writeFile(e,r,e=>{e?n(e):t()})})}function getOptions(){return _getOptions.apply(this,arguments)}function _getOptions(){return(_getOptions=_asyncToGenerator(function*(){const e=process.cwd(),r={plugin:e,config:e,fixtures:path.resolve(e,"test")},t=yield readJSON("package.json","postcss","postcssConfig").then(e=>getOptionsFromArguments(Object.assign(r,e)));try{t.plugin=yield Promise.resolve(require(path.resolve(t.plugin)))}catch(e){throw e}try{t.config=yield Promise.resolve(require(path.extname(t.config)?path.resolve(t.config):path.resolve(t.config,"postcss-tape.config.js")))}catch(e){try{t.config=yield Promise.resolve(require(path.extname(t.config)?path.resolve(t.config):path.resolve(t.config,".tape.js")))}catch(e){throw e}}return t})).apply(this,arguments)}const colors={reset:"[0m",bold:"[1m",dim:"[2m",underline:"[4m",blink:"[5m",reverse:"[7m",hidden:"[8m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",bgBlack:"[40m",bgRed:"[41m",bgGreen:"[42m",bgYellow:"[43m",bgBlue:"[44m",bgMagenta:"[45m",bgCyan:"[46m",bgWhite:"[47m"};function color(e,r){return colors[e]+r.replace(colors.reset,colors.reset+colors[e])+colors.reset}const isWin32="win32"===process.platform,tick=isWin32?"âˆš":"âœ”",cross=isWin32?"Ã—":"âœ–",stdout=process.stdout;let interval;function pass(e,r,t){clearInterval(interval),t?stdout.write(` ${color("green",tick)}\n`):(readline.clearLine(stdout,0),readline.cursorTo(stdout,0),stdout.write(`${color("green",tick)} ${e} ${color("dim",r)}\n`))}function fail(e,r,t){clearInterval(interval),t?stdout.write(` ${color("red",cross)}\n`):(readline.clearLine(stdout,0),readline.cursorTo(stdout,0),stdout.write(`${color("red",cross)} ${e} ${color("dim",r)}\n`))}function wait(e,r,t){if(t)stdout.write(`${e} ${color("dim",r)}`);else{const t=isWin32?"-â€“â€”â€“-":"â ‹â ™â ¹â ¸â ¼â ´â ¦â §â ‡â ";let n=0;clearInterval(interval),readline.clearLine(stdout,0),readline.cursorTo(stdout,0),stdout.write(`${color("yellow",t[n])} ${e} ${color("dim",r)}`),interval=setInterval(()=>{n=(n+1)%t.length,readline.cursorTo(stdout,0),stdout.write(`${color("yellow",t[n])} ${e} ${color("dim",r)}`)},60)}}getOptions().then(function(){var e=_asyncToGenerator(function*(e){let r=!1;for(const t in e.config){const n=e.config[t],i=n.plugin instanceof Function?n.plugin:e.plugin,o=t.split(":")[0],s=t.split(":").join("."),c=path.resolve(e.fixtures,n.source||`${o}.css`),a=path.resolve(e.fixtures,n.expect||`${s}.expect.css`),l=path.resolve(e.fixtures,n.result||`${s}.result.css`),u=Object.assign({from:c,to:l},n.processOptions),f=n.options,d=Object(i.postcss).postcssPlugin||"postcss";wait(d,n.message,e.ci);try{Object(n.before)instanceof Function&&(yield n.before());const t=yield safelyReadFile(a),o=yield readOrWriteFile(c,t),s=yield i.process(o,u,f),p=s.css;if("fix"in e&&!1!==e.fix)yield writeFile(a,p),yield writeFile(l,p);else if(yield writeFile(l,p),t!==p)throw new Error([`Expected: ${JSON.stringify(t).slice(1,-1)}`,`Received: ${JSON.stringify(p).slice(1,-1)}`].join("\n"));const g=s.warnings();if(Object(n.warnings)instanceof Number){if(n.warnings!==g.length){const e=1!==g.length?"s":"";throw new Error(`Expected: ${n.warnings} warning${e}\nReceived: ${g.length} warnings`)}}else if(n.warnings){if(!g.length)throw new Error("Expected a warning");if(!g.every(e=>Object.keys(n.warnings).every(r=>n.warnings[r]instanceof RegExp?n.warnings[r].test(e[r]):n.warnings[r]===e[r]))){const e=1!==g.length?"s":"";throw new Error(`Unexpected warning${e}:\n${g.join("\n")}`)}}Object(n.after)instanceof Function&&(yield n.after()),pass(d,n.message,e.ci)}catch(t){if(n.errors===Object(n.errors)&&Object.keys(n.errors).every(e=>n.errors[e]instanceof RegExp?n.errors[e].test(t[e]):n.error[e]===t[e]))pass(d,n.message,e.ci);else if(fail(d,n.message,e.ci),console.error(t.message),r=!0,e.ci)break}}if(r)throw new Error});return function(r){return e.apply(this,arguments)}}()).then(()=>{process.exit(0)},e=>{Object(e).message&&console.error(e),process.exit(1)});
+function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var fs=_interopDefault(require("fs")),path=_interopDefault(require("path")),postcss=_interopDefault(require("postcss")),readline=_interopDefault(require("readline"));function asyncGeneratorStep(e,r,t,n,i,o,s){try{var c=e[o](s),a=c.value}catch(e){return void t(e)}c.done?r(a):Promise.resolve(a).then(n,i)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise(function(n,i){var o=e.apply(r,t);function s(e){asyncGeneratorStep(o,n,i,s,c,"next",e)}function c(e){asyncGeneratorStep(o,n,i,s,c,"throw",e)}s(void 0)})}}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,r){var t=[],n=!0,i=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done)&&(t.push(s.value),!r||t.length!==r);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return t}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}const argRegExp=/^--([\w-]+)$/,primativeRegExp=/^(false|null|true|undefined|(\d+\.)?\d+|\{.*\}|\[.*\])$/,relaxedJsonPropRegExp=/(['"])?([a-z0-9A-Z_]+)\1:/g,relaxedJsonValueRegExp=/("[a-z0-9A-Z_]+":\s*)(?!true|false|null|\d+)'?([A-z0-9]+)'?([,}])/g;function getOptionsFromArguments(e){return process.argv.slice(2).reduce((e,r,t,n)=>{const i=n[t+1],o=r.match(argRegExp);if(o){const r=_slicedToArray(o,2)[1];!i||argRegExp.test(i)?e[r]=!0:e[r]=primativeRegExp.test(i)?JSON.parse(i.replace(relaxedJsonPropRegExp,'"$2": ').replace(relaxedJsonValueRegExp,'$1"$2"$3')):i}return e},Object.assign({},e))}function readFile(e){return new Promise((r,t)=>{fs.readFile(e,"utf8",(e,n)=>{e?t(e):r(n)})})}function readJSON(e,...r){return readFile(e).then(e=>JSON.parse(e)).then(e=>r.length?e[Object.keys(e).find(e=>r.includes(e))]:e).catch(()=>({}))}function readOrWriteFile(e,r){return readFile(e).catch(()=>writeFile(e,r||"").then(()=>""))}function safelyReadFile(e){return readFile(e).catch(()=>"")}function writeFile(e,r){return new Promise((t,n)=>{fs.writeFile(e,r,e=>{e?n(e):t()})})}function getOptions(){return _getOptions.apply(this,arguments)}function _getOptions(){return(_getOptions=_asyncToGenerator(function*(){const e=process.cwd(),r={plugin:e,config:e,fixtures:path.resolve(e,"test")},t=yield readJSON("package.json","postcss","postcssConfig").then(e=>getOptionsFromArguments(Object.assign(r,e)));try{t.plugin=yield Promise.resolve(require(path.resolve(t.plugin)))}catch(e){throw e}try{t.config=yield Promise.resolve(require(path.extname(t.config)?path.resolve(t.config):path.resolve(t.config,"postcss-tape.config.js")))}catch(e){try{t.config=yield Promise.resolve(require(path.extname(t.config)?path.resolve(t.config):path.resolve(t.config,".tape.js")))}catch(e){throw e}}return t})).apply(this,arguments)}const colors={reset:"[0m",bold:"[1m",dim:"[2m",underline:"[4m",blink:"[5m",reverse:"[7m",hidden:"[8m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",bgBlack:"[40m",bgRed:"[41m",bgGreen:"[42m",bgYellow:"[43m",bgBlue:"[44m",bgMagenta:"[45m",bgCyan:"[46m",bgWhite:"[47m"};function color(e,r){return colors[e]+r.replace(colors.reset,colors.reset+colors[e])+colors.reset}const isWin32="win32"===process.platform,tick=isWin32?"âˆš":"âœ”",cross=isWin32?"Ã—":"âœ–",stdout=process.stdout;let interval;function pass(e,r,t){clearInterval(interval),t?stdout.write(` ${color("green",tick)}\n`):(readline.clearLine(stdout,0),readline.cursorTo(stdout,0),stdout.write(`${color("green",tick)} ${e} ${color("dim",r)}\n`))}function fail(e,r,t){clearInterval(interval),t?stdout.write(` ${color("red",cross)}\n`):(readline.clearLine(stdout,0),readline.cursorTo(stdout,0),stdout.write(`${color("red",cross)} ${e} ${color("dim",r)}\n`))}function wait(e,r,t){if(t)stdout.write(`${e} ${color("dim",r)}`);else{const t=isWin32?"-â€“â€”â€“-":"â ‹â ™â ¹â ¸â ¼â ´â ¦â §â ‡â ";let n=0;clearInterval(interval),readline.clearLine(stdout,0),readline.cursorTo(stdout,0),stdout.write(`${color("yellow",t[n])} ${e} ${color("dim",r)}`),interval=setInterval(()=>{n=(n+1)%t.length,readline.cursorTo(stdout,0),stdout.write(`${color("yellow",t[n])} ${e} ${color("dim",r)}`)},60)}}getOptions().then(function(){var e=_asyncToGenerator(function*(e){let r=!1;for(const t in e.config){const n=e.config[t],i=n.plugin instanceof Function?n.plugin:e.plugin,o=t.split(":")[0],s=t.split(":").join("."),c=path.resolve(e.fixtures,n.source||`${o}.css`),a=path.resolve(e.fixtures,n.expect||`${s}.expect.css`),l=path.resolve(e.fixtures,n.result||`${s}.result.css`),u=Object.assign({from:c,to:l},n.processOptions),f=n.options,v=i(f),d=v.postcssPlugin||"postcss";wait(d,n.message,e.ci);try{Object(n.before)instanceof Function&&(yield n.before());const t=yield safelyReadFile(a),o=yield readOrWriteFile(c,t),s=yield postcss([v]).process(o,u),p=s.css;if("fix"in e&&!1!==e.fix)yield writeFile(a,p),yield writeFile(l,p);else if(yield writeFile(l,p),t!==p)throw new Error([`Expected: ${JSON.stringify(t).slice(1,-1)}`,`Received: ${JSON.stringify(p).slice(1,-1)}`].join("\n"));const g=s.warnings();if(Object(n.warnings)instanceof Number){if(n.warnings!==g.length){const e=1!==g.length?"s":"";throw new Error(`Expected: ${n.warnings} warning${e}\nReceived: ${g.length} warnings`)}}else if(n.warnings){if(!g.length)throw new Error("Expected a warning");if(!g.every(e=>Object.keys(n.warnings).every(r=>n.warnings[r]instanceof RegExp?n.warnings[r].test(e[r]):n.warnings[r]===e[r]))){const e=1!==g.length?"s":"";throw new Error(`Unexpected warning${e}:\n${g.join("\n")}`)}}Object(n.after)instanceof Function&&(yield n.after()),pass(d,n.message,e.ci)}catch(t){if(n.errors===Object(n.errors)&&Object.keys(n.errors).every(e=>n.errors[e]instanceof RegExp?n.errors[e].test(t[e]):n.error[e]===t[e]))pass(d,n.message,e.ci);else if(fail(d,n.message,e.ci),console.error(t.message),r=!0,e.ci)break}}if(r)throw new Error});return function(r){return e.apply(this,arguments)}}()).then(()=>{process.exit(0)},e=>{Object(e).message&&console.error(e),process.exit(1)});
